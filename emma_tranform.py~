import logging
logging.basicConfig(format='%(asctime)s : %(levelname)s : %(message)s', level=logging.INFO)

from gensim import corpora, models, similarities
dictionary = corpora.Dictionary.load('emma/emma.dict')
corpus = corpora.MmCorpus('emma/emma_corpus.mm')
print(corpus)


tfidf = models.TfidfModel(corpus) # step 1 -- initialize a model
tfidf.save('emma/model/emma.tfidf') # save TFIDF model trained on emma
corpus_tfidf = tfidf[corpus] # create a wrapper over the original corpus: bow->tfidf
corpora.MmCorpus.serialize('emma/emma_tfidf.mm', corpus)


lsi = models.LsiModel(corpus_tfidf, id2word=dictionary, num_topics=10) # initialize an LSI transformation
lsi.save('emma/model/emma.lsi') # save LSI model trained on emma 
corpus_lsi = lsi[corpus_tfidf] # create a double wrapper over the original corpus: bow->tfidf->fold-in-lsi
lsi.print_topics(10)
